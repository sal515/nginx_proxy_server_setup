# Database Proxy Configuration File
# Update these values with your MySQL database server details

# MySQL Database Server IP Address or DNS Name
MYSQL_SERVER="10.0.1.55"

# MySQL Database Server Port
MYSQL_PORT="3306"

# ============================================================
# PROXY CONFIGURATION (optional - customize as needed)
# ============================================================

# Local listening port for the proxy (default: 3306)
LISTEN_PORT="3306"

# Upstream backend name (for nginx configuration)
UPSTREAM_NAME="mysql_backend"

# Nginx stream config file path (relative to /etc/nginx/stream.d/)
PROXY_CONFIG_FILE="db_proxy.conf"

# Connection timeouts
# proxy_connect_timeout: time to establish upstream connection (default: 60s)
PROXY_CONNECT_TIMEOUT="10s"

# proxy_timeout: time for reading/writing between client and upstream (default: 10m)
# MySQL queries can take time, so 1h is suitable for long-running operations
PROXY_TIMEOUT="1h"

# NOTE: keepalive directive is NOT supported in nginx stream module
# Stream connections are handled differently than HTTP upstream pools
# UPSTREAM_KEEPALIVE is kept for reference but not used in stream configs

# Upstream max fails and fail timeout (for load balancing/failover)
UPSTREAM_MAX_FAILS="3"
UPSTREAM_FAIL_TIMEOUT="30s"

# Additional configuration options can be added here
# Example:
# LOG_LEVEL="debug"
# MAX_CONNECTIONS="100"
